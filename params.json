{"name":"Csspool","tagline":"Clojure library for CSS. Designed for simplicity and automatic cross browser prefixing.","body":"### Cylon Eye?\r\n\r\n<div class=\"view_port\">\r\n    <div class=\"polling_message\"> Bitchen Cylon Eye </div>\r\n    <div class=\"cylon_eye\"></div>\r\n</div>\r\n\r\n#### Code\r\n\r\nThe [css](stylesheets/cylon.css) powering our robotic friend comes completely\r\nfrom the code below, annotated inline.\r\n\r\n```clojure\r\n(ns example.css (:require [csspool.core :as c]))\r\n\r\n(def styles\r\n  (let [w :white]\r\n  `[ ;; the raw number 100 will be dealt with later\r\n    .view_port [background-color black height :25px width 100 overflow hidden\r\n                ;; border-radius will be automatically prefixed for webkit\r\n                ;; (works in FF without prefix)\r\n                border-radius :10px]\r\n    ;; escape the mixin w and ignore raw numbers.\r\n    .cylon_eye [color ~w height 100 width 20 background-color red\r\n                ;; animation will be prefixed for webkit, mozilla, and opera\r\n                animation \"move_eye 3s linear 0s infinite alternate\"\r\n                ;; background-image is a value, not a property, so it has to be\r\n                ;; explicitly prefixed. (xb-v = cross-browser-value).\r\n                ;; generally, the right thing is done wrt tree-depth, so it\r\n                ;; wouldn't matter if we forgot the @.\r\n                ~@(c/xb-v '(background-image \"linear-gradient(left, rgba(0,0,0,0.9) 25%, rgba( 0,0,0,0.1 ) 50%, rgba( 0,0,0,0.9 ) 75%)\"))]\r\n     ;; maps are fine\r\n   .polling_message {color ~w float left margin-right 2 margin-left 10 margin-top :3px}\r\n ]))\r\n\r\n(def at-styles\r\n  ;; at-styles, as the W3C calls them, are handled differently from css.\r\n  ;; media queries go here as well.\r\n  `(\"keyframes move_eye\" (from (margin-left :-20%) to (margin-left :100%))))\r\n\r\n(defn -main [& args]\r\n  (c/with-pretty ; not overly pretty. newlines, anyway.\r\n    (print (->> styles\r\n                ;; regularize for processing. arbitrary levels of depth are flattened.\r\n                c/prepare\r\n                ;; all raw numbers converted to strings ending in \\%\r\n                (c/suffix-nums \\%)\r\n                ;; handle animation and border-radius from above as well as many\r\n                ;; more. only adds prefices necessary and known to work. (well ...)\r\n                c/auto-prefix\r\n                ;; spit it out\r\n                c/render)\r\n           ;; have the at-rules work with all browsers\r\n           (c/at-rule-xb at-styles))))\r\n;;; ces't tout\r\n```\r\nThe original css I boosted from the animation example from the good folks at\r\n[MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/animation).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}